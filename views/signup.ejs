<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html"; charset="utf-8"/>

	<title>catcatmedSignup</title>

	<link rel="stylesheet" type="text/css" href="stylesheets/login.css">
	<meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

	<!-- AJAX -->
	<script type="text/javascript">
		function GrammarCheck(){
			if($("#name").val()!=""){
				if($("#name").val().length > 10) document.getElementById("nameErr").innerHTML = "僅能輸入十個字以下的暱稱";
				else document.getElementById("nameErr").innerHTML = "";
			}else if($("#name").val()=="") document.getElementById("nameErr").innerHTML = "";
			if($("#username").val()!=""){
				var email = $("#username").val();
				var pattern = /^\w+((-\w+)|(\.\w+))*\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z]+$/;
				var check = email.match(pattern);
				if(!check){
					document.getElementById("usernameErr").innerHTML = "wrong format!";
				}else{
					document.getElementById("usernameErr").innerHTML = "";
				}				
			}
			if($("#password").val()!=""){
				var password = $("#password").val();
				var pattern = /^\w+$/;
				var check = password.match(pattern);
				if(!check){
					document.getElementById("passwordErr").innerHTML = "僅能填入英數字的組合!";
				}else{
					if( password.length < 6 || password.length >20){
						document.getElementById("passwordErr").innerHTML = "請輸入6~20個字組成的密碼!";
					}else{
						document.getElementById("passwordErr").innerHTML = "";
					}
				}				
			}
			if($("#password").val()=="" && $("#passwordCheck").val()!=""){
				document.getElementById("passwordCheckErr").innerHTML = "未填寫密碼前，無法確認是否正確!";	
			}
			if($("#password").val()!="" && $("#passwordCheck").val()!="" && $("#password").val()!=$("#passwordCheck").val()){
				//密碼不相同
				document.getElementById("passwordCheckErr").innerHTML = "兩次輸入的密碼不相同";
			}else{
				document.getElementById("passwordCheckErr").innerHTML = "";
			}
			
		}
		function showErrMsg(errMsg){
			if(errMsg=="errExist") alert("此帳號已經被註冊過囉！");
			if(errMsg=="errInput") alert("錯誤的輸入格式！");
			if(errMsg=="errKnown") alert("未知的錯誤！");
		}
	</script>
</head>
<body>
	<style>
		.navBlock{
			cursor: pointer;
			transition: 300ms;
		}
		.navBlock:hover{
			background-color: #EEEEEE;
		}
		.navLink{
			padding-top : 20px;
			padding-bottom : 20px;
			font-family: Microsoft JhengHei;
			font-size: 16px;
			font-weight: bold;
			text-align: center;
		}
		.signupBlock{
			background-color: #AAAAAA;
			padding-bottom: 30px;
			padding-top: 30px;
			box-shadow: 10px 10px 5px #888888;
		}
		.signupBlock input{
			background-color: #AAAAAA;
			text-align: center;
			outline: none;
			border: none;
			border-bottom: solid white 1px;
			margin-top: 10px;
			margin-bottom: 10px;
			font-family: monospace,Microsoft JhengHei;
		}
		.signupBlock p{
			margin-top: 10px;
			margin-bottom: 10px;
			font-family: Microsoft YaHei;
			font-weight:bold;
			color: #666666;
			font-size: 20px;
		}
		.loginButton{
			color: white !important;
			background-color: black !important;
			padding:5px !important;
			border-radius: 20px !important;
			border-bottom: 0px !important;
			font-family: Microsoft JhengHei !important;
			font-weight: bold;
			font-size: 20px;
			cursor: pointer;
		}
		.loginButton:hover{
			color: black !important;
			background-color: white !important;
			transition: 300ms;
		}
		.signupButton{
			cursor: pointer;
		}
		.signupButton:hover{
			color: #111111;
		}
		.forgotButton{
			cursor: pointer;
		}
		.forgotButton:hover{
			color: #111111;
		}
		p1{
			color: red;
		}
	</style>
	<% if (errMsg) {%>
		<script>
			showErrMsg("<%= errMsg %>");
		</script>		
	<% } %>	
	<nav class="col-lg-8 col-lg-offset-2 col-md-8 col-md-offset-2 col-sm-10 col-sm-offset-1 col-xs-10 col-xs-offset-1">
		<div class="col-lg-3 col-lg-offset-9 col-md-4 col-md-offset-8">
			<div class="col-lg-6 col-md-6 col-sm-6 col-xs-6 navBlock">
				<p onClick="location.href=''" class="navLink">聯絡我們</p>
			</div>
			<div class="col-lg-6 col-md-6 col-sm-6 col-xs-6 navBlock">
				<p onClick="location.href='/'"class="navLink">回到首頁</p>
			</div>
		</div>		
	</nav>
	<container class="col-lg-8 col-lg-offset-2 col-md-8 col-md-offset-2 col-sm-10 col-sm-offset-1 col-xs-10 col-xs-offset-1">
		<div class="col-lg-5 col-md-5 text-center">
			<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
				<img class="col-lg-10 col-lg-offset-1 col-md-10 col-md-offset-1 col-sm-10 col-sm-offset-1 col-xs-10 col-xs-offset-1" src="images/login/LOGO.png">
			</div>
			<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 signupBlock">
				<form action="/signupcheck" method="post">
					<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
						<p>輸 入 您 的 暱 稱</p>
					</div>
					<input class="col-lg-8 col-lg-offset-2 col-md-8 col-md-offset-2 col-sm-10 col-sm-offset-1 col-xs-10 col-xs-offset-1" autocomplete="off" type="text" name="name" id="name" onkeyup="GrammarCheck()">
					<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
						<p1 id="nameErr"></p1>
					</div>
					<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
						<p>輸 入 您 的 電 子 信 箱</p>
					</div>
					<input class="col-lg-8 col-lg-offset-2 col-md-8 col-md-offset-2 col-sm-10 col-sm-offset-1 col-xs-10 col-xs-offset-1" autocomplete="off" type="text" name="username" id="username" onkeyup="GrammarCheck()">
					<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
						<p1 id="usernameErr"></p1>
					</div>
					<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
						<p>輸 入 您 的 密 碼</p>
					</div>					
					<input class="col-lg-8 col-lg-offset-2 col-md-8 col-md-offset-2 col-sm-10 col-sm-offset-1 col-xs-10 col-xs-offset-1" autocomplete="off" type="password" name="password" id="password" onkeyup="GrammarCheck()">
					<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
						<p1 id="passwordErr"></p1>
					</div>
					<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
						<p>請 再 次 輸 入 您 的 密 碼</p>
					</div>
					<input class="col-lg-8 col-lg-offset-2 col-md-8 col-md-offset-2 col-sm-10 col-sm-offset-1 col-xs-10 col-xs-offset-1" autocomplete="off" type="password" name="passwordCheck" id="passwordCheck" onkeyup="GrammarCheck()">
					<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
						<p1 id="passwordCheckErr"></p1>
					</div>
					<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
						<input class="col-lg-6 col-lg-offset-3 col-md-6 col-md-offset-3 col-sm-6 col-sm-offset-3 col-xs-6 col-xs-offset-3 loginButton" type="submit" value="註冊">
					</div>					
				</form>				
			</div>
		</div>
	</container>
	<!--
	<div class="col-lg-3"></div>
	<div class="loginblock col-lg-6">
		<div class="col-lg-6">
			signinwithfb
		</div>
		<div class="col-lg-6">
			<form action="/signupcheck" method="post" id="createForm" onSubmit="return GrammarCheck();">
				<h3>您希望我們怎麼稱呼你呢?</h3>
				<input type="text" id="name" name="name" onkeyup="GrammarCheck()">
				<h4 style="color:red" id="nameErr"></h4>
				<br>
				<h3>帳號：</h3>
				<input type="text" id="username" name="username" onkeyup="GrammarCheck()">
				<h4>請輸入正常email格式(example:catcatmed@gmail.com)</h4>
				<br>
				<h5 style="color:red" id="usernameErr"></h5>
				<h3>密碼：</h3>
				<input type="password" id="password" name="password" onkeyup="GrammarCheck()">
				<h4>僅接受數字與大小寫英文的組合</h4>
				<h5 style="color:red" id="passwordErr"></h5>
				<br><br>
				<h3>再次確認密碼：</h3>
				<input type="password" id="passwordCheck" onkeyup="GrammarCheck()">
				<h5 style="color:red" id="passwordCheckErr"></h5>
				<br><br>
				<input type="submit" value="建立帳號">
			</form>
		</div>		
	</div>
	<div class="col-lg-3"></div>
	-->	
</body>
</html>