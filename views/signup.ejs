<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html"; charset="utf-8"/>

	<title>catcatmedSignup</title>

	<link rel="stylesheet" type="text/css" href="stylesheets/signup.css">
	<meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="bootstrap-3.3.7/css/bootstrap.min.css">
    <script src="javascript/jquery/jquery_v-3-3-1.js"></script>
    <script src="bootstrap-3.3.7/js/bootstrap.min.js"></script>
	<style>
		@import url(https://fonts.googleapis.com/earlyaccess/notosanstc.css);
		{
			font-family: 'Noto Sans TC';
		}
	</style>
	<!-- AJAX -->
	<script type="text/javascript">
		function GrammarCheck(){
			if($("#name").val()!=""){
				if($("#name").val().length > 10) document.getElementById("nameErr").innerHTML = "僅能輸入十個字以下的暱稱";
				else document.getElementById("nameErr").innerHTML = "";
			}else if($("#name").val()=="") document.getElementById("nameErr").innerHTML = "";
			if($("#username").val()!=""){
				var email = $("#username").val();
				var pattern = /^\w+((-\w+)|(\.\w+))*\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z]+$/;
				var check = email.match(pattern);
				if(!check){
					document.getElementById("usernameErr").innerHTML = "wrong format!";
				}else{
					document.getElementById("usernameErr").innerHTML = "";
				}				
			}
			if($("#password").val()!=""){
				var password = $("#password").val();
				var pattern = /^\w+$/;
				var check = password.match(pattern);
				if(!check){
					document.getElementById("passwordErr").innerHTML = "僅能填入英數字的組合!";
				}else{
					if( password.length < 6 || password.length >20){
						document.getElementById("passwordErr").innerHTML = "請輸入6~20個字組成的密碼!";
					}else{
						document.getElementById("passwordErr").innerHTML = "";
					}
				}				
			}
			if($("#password").val()=="" && $("#passwordCheck").val()!=""){
				document.getElementById("passwordCheckErr").innerHTML = "未填寫密碼前，無法確認是否正確!";	
			}
			if($("#password").val()!="" && $("#passwordCheck").val()!="" && $("#password").val()!=$("#passwordCheck").val()){
				//密碼不相同
				document.getElementById("passwordCheckErr").innerHTML = "兩次輸入的密碼不相同";
			}else{
				document.getElementById("passwordCheckErr").innerHTML = "";
			}
			
		}
		function showErrMsg(errMsg){
			if(errMsg=="errExist") alert("此帳號已經被註冊過囉！");
			if(errMsg=="errInput") alert("錯誤的輸入格式！");
			if(errMsg=="errKnown") alert("未知的錯誤！");
		}
	</script>
</head>
<body class="container">
	</style>
	<% if (errMsg) {%>
		<script>
			showErrMsg("<%= errMsg %>");
		</script>		
	<% } %>	
	<nav>
		<div class="col-lg-3 col-lg-offset-9 col-md-4 col-md-offset-8">
			<div class="col-lg-6 col-md-6 col-sm-6 col-xs-6 navBlock">
				<p onClick="location.href=''" class="navLink">聯絡我們</p>
			</div>
			<div class="col-lg-6 col-md-6 col-sm-6 col-xs-6 navBlock">
				<p onClick="location.href='/'"class="navLink">回首頁</p>
			</div>
		</div>		
	</nav>
	<div>
		<div class="col-lg-4 col-md-4 col-lg-offset-4 col-md-offset-4 text-center">
			<div class="col-lg-8 col-lg-offset-2">
				<img src="images/login/LOGO.png">			
			</div>
			<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 signupBlock">
				<form action="/signupcheck" method="post">
					<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
						<p>暱稱</p>
					</div>
					<div class="col-lg-8 col-lg-offset-2 col-md-8 col-md-offset-2 col-sm-10 col-sm-offset-1 col-xs-10 col-xs-offset-1">
						<input autocomplete="off" type="text" name="name" id="name" onfocus='this.placeholder = ""' onblur='this.placeholder = "JAY PAUL"' placeholder="JAY PAUL">
						<p1 id="nameErr"></p1>
					</div>					
					<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
						<p>輸 入 您 的 電 子 信 箱</p>
					</div>
					<div class="col-lg-8 col-lg-offset-2 col-md-8 col-md-offset-2 col-sm-10 col-sm-offset-1 col-xs-10 col-xs-offset-1">
						<input autocomplete="off" type="text" name="username" id="username" onfocus='this.placeholder = ""' onblur='this.placeholder = "example@gmail.com"' placeholder="example@gmail.com" onkeyup="GrammarCheck()">
						<p1 id="usernameErr"></p1>
					</div>
					<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
						<p>輸 入 您 的 密 碼</p>
					</div>
					<div class="col-lg-8 col-lg-offset-2 col-md-8 col-md-offset-2 col-sm-10 col-sm-offset-1 col-xs-10 col-xs-offset-1">
						<input autocomplete="off" type="password" name="password" id="password" onfocus='this.placeholder = ""' onblur='this.placeholder = "password"' placeholder="password" onkeyup="GrammarCheck()">
						<p1 id="passwordErr"></p1>
					</div>					
					<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
						<p>請 再 次 輸 入 您 的 密 碼</p>
					</div>
					<div class="col-lg-8 col-lg-offset-2 col-md-8 col-md-offset-2 col-sm-10 col-sm-offset-1 col-xs-10 col-xs-offset-1">
						<input autocomplete="off" type="password" name="passwordCheck" id="passwordCheck" onfocus='this.placeholder = ""' onblur='this.placeholder = "password"' placeholder="password" onkeyup="GrammarCheck()">
						<p1 id="passwordCheckErr"></p1>
					</div>	
					<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
						<input class="col-lg-6 col-lg-offset-3 col-md-6 col-md-offset-3 col-sm-6 col-sm-offset-3 col-xs-6 col-xs-offset-3" type="submit" value="註冊">
					</div>					
				</form>	
			</div>
		</div>
	</div>
</body>
</html>